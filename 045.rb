#2012/5/26
#5min

t = (1..100000).map{|n| n*(n+1)/2 }
p = (1..100000).map{|n| n*(3*n-1)/2 }
h = (1..100000).map{|n| n*(2*n-1) }
s = t & p & h
p s.last

